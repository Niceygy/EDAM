<!DOCTYPE html>
<html>
  <script src="assets/onLoad.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="assets/icons/favicon.svg" type="image/svg+xml" />
  <script defer src="https://data.niceygy.net/script.js" data-website-id="1fa1a451-b65f-4926-88a6-89465f0dd70f"></script>
  <script src="assets/min/pureknob.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.plot.ly/plotly-3.3.0.min.js"></script>
  <title>E.D.A.M</title>

  <link href="assets/style.css" rel="stylesheet" />
  <script>
    function handleChartDateRangeChange() {
      var range = document.getElementById("dateSelect").value;
      var baseurl = window.location.href.split("?")[0];
      window.location.href = `${baseurl}?range=${range}`;
    }
  </script>
  <body>
    <img id="loadingIcon" src="assets/icons/edloader.svg" width="50" height="50" />
    <div class="header" style="display: flex; text-align: center">
      <h1>E</h1>
      <p style="height: 100%; line-height: 380%">lite</p>
      <h1>.D</h1>
      <p style="height: 100%; line-height: 380%">angerous</p>
      <h1>.A</h1>
      <p style="height: 100%; line-height: 380%">ctivity</p>
      <h1>.M</h1>
      <p style="height: 100%; line-height: 380%">onitor</p>
    </div>

    <div class="row">
      <div class="column">
        <div id="steamPlayerGauge"></div>
        <p class="knob-label"><i>Current Steam Players (Updated Every 15m)</i></p>
      </div>
      <div class="column">
        <div id="eddnNowGauge"></div>
        <p class="knob-label"><i>Current EDDN Players (Updated Hourly)</i></p>
      </div>
      <div class="column">
        <div id="twitchViewerGauge"></div>
        <p class="knob-label"><i>Current Twitch Viewers (Updated Every ~15m)</i></p>
      </div>
    </div>

    <div class="chartSelect" style="text-align: center">
      <h3 class="activityRatingMessage" id="activityRatingMessage">Loading...</h3>

      <p>EDDN Messages / Hour History</p>
      <select id="dateSelect" onchange="handleChartDateRangeChange()">
        <option value="">-- Choose a date range for the chart --</option>
        <option value="1d">1 Day</option>
        <option value="2d">2 Days</option>
        <option value="5d">5 Days</option>
        <option value="7d">7 Days</option>
        <option value="30d">30 Days</option>
        <option value="90d">90 Days</option>
        <option value="all">All Time</option>
      </select>
    </div>
    <div class="chart-section">
      <canvas id="eddnMessagesChart"></canvas>
    </div>

    <div>
      <p>Made with ðŸ©· & ðŸ’¥, by <a href="https://niceygy.net">Niceygy</a>. <a href="/about.html">About</a></p>
    </div>

    <script src="assets/charts/steamPlayerGauge.js"></script>
    <script src="assets/charts/eddnChart.js"></script>
    <script src="assets/charts/eddnPlayerGuage.js"></script>
    <script src="assets/charts/overallGuage.js"></script>
    <script src="assets/activityRatingMessage.js"></script>
    <script src="assets/charts/twitchViewerGuage.js"></script>

    <script>
      umami.Track("V0.1.0");
    </script>
  </body>
</html>
